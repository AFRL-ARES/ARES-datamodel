syntax = "proto3";

package ares.data_model;

import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";
import "completed_experiment.proto";
import "device_command_result.proto";

message ExecutionInfo {
  google.protobuf.StringValue unique_id = 1;
  google.protobuf.Timestamp time_started = 2;
  google.protobuf.Timestamp time_finished = 3;
  google.protobuf.StringValue timezone = 4;
  google.protobuf.StringValue localtime_offset = 5;
}

message CampaignExecutionSummary {
  google.protobuf.StringValue unique_id = 1;
  string campaign_id = 2;
  repeated ExperimentExecutionSummary experiment_summaries = 3;
  ExecutionInfo execution_info = 4;
  string campaign_name = 5;
  string campaign_tags = 6;
  string campaign_notes = 7;
}

message ExperimentExecutionSummary {
  google.protobuf.StringValue unique_id = 1;
  string experiment_id = 2;
  repeated StepExecutionSummary step_summaries = 3;
  ExecutionInfo execution_info = 4;
  CompletedExperiment completed_experiment = 5;
  string result_output_path = 6;
}

message StepExecutionSummary {
  google.protobuf.StringValue unique_id = 1;
  string step_id = 2;
  repeated CommandExecutionSummary command_summaries = 3;
  ExecutionInfo execution_info = 4;
}

message CommandExecutionSummary {
  google.protobuf.StringValue unique_id = 1;
  string command_id = 2;
  ExecutionInfo execution_info = 3;
  DeviceCommandResult result = 4;
  string command_name = 5;
  string command_description = 6;
}
