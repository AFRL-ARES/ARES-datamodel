syntax = "proto3";

package ares.messaging.planning;

import "planner_adapter_info.proto";
import "planning/manual_planner.proto";
import "planning/ares_planner.proto";
import "planning/planner_status.proto";

import "google/protobuf/wrappers.proto";
import "google/protobuf/empty.proto";

service AresPlanning {
	rpc GetAllPlanners(google.protobuf.Empty) returns (GetAllPlannersResponse);
	rpc GetPlannerCapabilities(CapabilitiesRequest) returns (CapabilitiesResponse);
	rpc GetPlannerSettings(PlannerSettingsRequest) returns (PlannerSettingsResponse);
	rpc GetPlannerStatus(PlannerStatusRequest) returns (data_model.planning.PlannerStatus);
	rpc ActivatePlanner(PlannerActivationRequest) returns (google.protobuf.Empty);

	rpc SeedManualPlanner(data_model.planning.ManualPlannerSeed) returns (google.protobuf.Empty);
	rpc GetManualPlannerSeed(google.protobuf.Empty) returns (data_model.planning.ManualPlannerSetCollection);
	rpc ResetManualPlanner(google.protobuf.Empty) returns (google.protobuf.Empty);

	rpc AddPlanner(GenericPlanner) returns (google.protobuf.Empty);
	rpc RemovePlanner(GenericPlanner) returns (google.protobuf.Empty);
	rpc UpdatePlanner(GenericPlanner) returns (google.protobuf.Empty);
}

message GetAllPlannersResponse {
	repeated data_model.PlannerAdapterInfo planners = 1; // gets all currently registered planners
}

message CapabilitiesRequest {
	string adapter_name = 1;
}

message PlannerStatusRequest {
	string adapter_name = 1;
}

message PlannerActivationRequest {
	string adapter_name = 1;
}

message PlannerSettingsRequest {
	string service_name = 1;
	string planner_name = 2;
}

message PlannerSettingsResponse {
	repeated data_model.planning.PlannerSetting settings = 1;
}

message CapabilitiesResponse {
	repeated PlannerOption planner_capability = 1;
}

message GenericPlanner {
	string name = 1;
	google.protobuf.StringValue address = 2;
}

message PlannerOption {
	string name = 1;
	string description = 2;
	string version = 3;
}