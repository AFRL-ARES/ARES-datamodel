syntax = "proto3";

package ares.datamodel;

import "google/protobuf/timestamp.proto";
import "experiment_overview.proto";
import "device_command_result.proto";

message ExecutionInfo {
  optional string unique_id = 1;
  google.protobuf.Timestamp time_started = 2;
  google.protobuf.Timestamp time_finished = 3;
  string timezone = 4;
  string localtime_offset = 5;
}

message CampaignExecutionSummary {
  optional string unique_id = 1;
  string campaign_id = 2;
  repeated ExperimentExecutionSummary experiment_summaries = 3;
  ExecutionInfo execution_info = 4;
  string campaign_name = 5;
  string campaign_tags = 6;
  string campaign_notes = 7;
  ExperimentExecutionSummary startup_execution_summary = 8;
  ExperimentExecutionSummary closeout_execution_summary = 9;
}

message ExperimentExecutionSummary {
  optional string unique_id = 1;
  string experiment_id = 2;
  repeated StepExecutionSummary step_summaries = 3;
  ExecutionInfo execution_info = 4;
  ExperimentOverview experiment_overview = 5;
  string result_output_path = 6;
}

message StepExecutionSummary {
  optional string unique_id = 1;
  string step_id = 2;
  repeated CommandExecutionSummary command_summaries = 3;
  ExecutionInfo execution_info = 4;
}

message CommandExecutionSummary {
  optional string unique_id = 1;
  string command_id = 2;
  ExecutionInfo execution_info = 3;
  DeviceCommandResult result = 4;
  string command_name = 5;
  string command_description = 6;
}
