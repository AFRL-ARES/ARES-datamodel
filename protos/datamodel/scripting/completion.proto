syntax = "proto3";

package ares.datamodel.scripting;

import "scripting/script_symbol_metadata.proto";

message CompletionItem {
    // Displayed text in the list.
    string label = 1;

    // The text to insert into the document.
    string insert_text = 2;

    // How the UI should interpret insert_text.
    InsertTextFormat insert_text_format = 3;

    // A string used to sort this item in the UI.
    // Example: Use "a_field" for fields and "b_method" for methods to group them.
    string sort_text = 4;

    // Canonical symbol metadata payload for UI rendering.
    ScriptSymbolMetadata metadata = 5;
}

enum InsertTextFormat {
    // The primary text to be inserted is treated as a plain string.
    INSERT_TEXT_FORMAT_PLAIN_TEXT = 0;

    // The primary text to be inserted is treated as a snippet.
    // Example: "func(${1:arg1}, ${2:arg2})" allows tabbing between args.
    INSERT_TEXT_FORMAT_SNIPPET = 1;
}
