syntax = "proto3";

package ares.services;

import "validation_result.proto";
import "analyzing/analysis.proto";
import "ares_struct.proto";
import "ares_data_schema.proto";

service AresAnalysisService {
	rpc ValidateInputs(InputValidationRequest) returns (datamodel.ValidationResult);
	rpc Analyze(AnalysisRequest) returns (datamodel.analyzing.Analysis);
	rpc GetAnalyzerParameters(AnalyzerParametersRequest) returns (AnalyzerParametersResponse);
}

message AnalysisRequest {
	string analyzer_id = 1;
	datamodel.AresStruct inputs = 2;
	datamodel.AresStruct settings = 3;
}

message InputValidationRequest {
	string analyzer_id = 1;
	datamodel.AresDataSchema input_schema = 2;
}

message AnalyzerParametersRequest {
	string analyzer_id = 1;
}

message AnalyzerParametersResponse {
	datamodel.AresDataSchema analysis_schema = 1;
}