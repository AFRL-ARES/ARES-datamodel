syntax = "proto3";

package ares.messaging;

import "ValidationResult.proto";
import "Analyzing/Analysis.proto";
import "google/protobuf/empty.proto";
import "google/protobuf/wrappers.proto";
import "AresStruct.proto";
import "AresDataSchema.proto";

service AresAnalysisService {
	rpc ValidateInputs(InputValidationRequest) returns (ValidationResult);
	rpc Analyze(AnalysisRequest) returns (analyzing.Analysis);

	rpc GetAnalyzerParameters(AnalyzerParametersRequest) returns (AnalyzerParametersResponse);
}

message AnalysisRequest {
	string analyzer_id = 1;
	AresStruct inputs = 2;
	AresStruct settings = 3;
}

message InputValidationRequest {
	string analyzer_id = 1;
	AresDataSchemaSimplified input_schema = 2;
}

message AnalyzerParametersRequest {
	string analyzer_id = 1;
}

message AnalyzerParametersResponse {
	AresDataSchema analysis_schema = 1;
}